(this.webpackJsonpuser_hub_react=this.webpackJsonpuser_hub_react||[]).push([[0],{53:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n=r(9),c=r(1),s=r(0),a=r(28),u=r.n(a),o=r(10),i=r.n(o),j=r(13),l=r(14),h=r.n(l),b="https://jsonplace-univclone.herokuapp.com";function d(){return(d=Object(j.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(b,"/users"));case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(){return(O=Object(j.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(b,"/users/").concat(t,"/posts"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(){return(p=Object(j.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(b,"/users/").concat(t,"/todos"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var f=r(12),x=r(2);r(53);var v=function(e){var t=e.currentUser,r=e.setCurrentUser,a=e.userList,u=Object(s.useState)(),o=Object(n.a)(u,2),i=o[0],j=o[1];Object(s.useEffect)((function(){j(a[0])}),[a]);return Object(c.jsxs)("header",{children:[Object(c.jsx)("h1",{children:"Welcome to UserHub"}),Object(c.jsx)("form",{className:"user-select",onSubmit:function(e){e.preventDefault()},children:t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.b,{to:"/posts",activeClassName:"current",children:"POSTS"}),Object(c.jsx)(f.b,{to:"/todos",activeClassName:"current",children:"TODOS"}),Object(c.jsxs)("button",{onClick:function(e){j(a[0]),localStorage.removeItem("currentUser"),r(null)},children:["LOG OUT, ",t.username]})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("select",{onChange:function(e){var t=e.target.value,r=a.find((function(e){return e.id==t}));j(r)},children:a.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.username},e.id)}))}),Object(c.jsx)("button",{onClick:function(e){var t;t=i,localStorage.setItem("currentUser",JSON.stringify(t)),r(i)},children:"LOG IN"})]})})]})},m=(r(59),function(e){var t=e.currentUser,r=e.userPosts;return Object(c.jsxs)("div",{className:"user-posts",children:[Object(c.jsxs)("h2",{children:["Posts By ",t.username]}),r.map((function(e){var t=e.id,r=e.title,n=e.body;return Object(c.jsxs)("div",{className:"post",children:[Object(c.jsx)("h3",{children:r}),Object(c.jsx)("p",{children:n})]},t)}))]})}),g=(r(60),function(e){var t=e.currentUser,r=e.userTodos;return Object(c.jsxs)("div",{className:"user-todos",children:[Object(c.jsxs)("h2",{children:["Todos By ",t.username]}),r.map((function(e){var t=e.id,r=e.title,n=e.completed;return Object(c.jsx)("div",{className:"todo",children:Object(c.jsx)("h3",{style:{textDecoration:n?"line-through":"none"},children:r})},t)}))]})}),y=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),r=t[0],a=t[1],u=Object(s.useState)(JSON.parse(localStorage.getItem("currentUser"))),o=Object(n.a)(u,2),i=o[0],j=o[1],l=Object(s.useState)([]),h=Object(n.a)(l,2),b=h[0],y=h[1],S=Object(s.useState)([]),U=Object(n.a)(S,2),w=U[0],N=U[1];return Object(s.useEffect)((function(){(function(){return d.apply(this,arguments)})().then((function(e){a(e)})).catch((function(e){console.error(e)}))}),[]),Object(s.useEffect)((function(){if(!i)return y([]),void N([]);(function(e){return O.apply(this,arguments)})(i.id).then((function(e){y(e)})).catch((function(e){console.error(e)})),function(e){return p.apply(this,arguments)}(i.id).then((function(e){N(e)})).catch((function(e){console.error(e)}))}),[i]),Object(c.jsx)(f.a,{children:Object(c.jsxs)("div",{id:"App",children:[Object(c.jsx)(v,{userList:r,currentUser:i,setCurrentUser:j}),i?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(x.d,{children:[Object(c.jsx)(x.b,{path:"/posts",children:Object(c.jsx)(m,{userPosts:b,currentUser:i})}),Object(c.jsx)(x.b,{path:"/todos",children:Object(c.jsx)(g,{userTodos:w,currentUser:i})}),Object(c.jsx)(x.b,{exact:!0,path:"/",children:Object(c.jsxs)("h2",{style:{padding:".5em"},children:["Welcome, ",i.username,"!"]})}),Object(c.jsx)(x.a,{to:"/"})]})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(x.d,{children:[Object(c.jsx)(x.b,{exact:!0,path:"/",children:Object(c.jsx)("h2",{style:{padding:".5em"},children:"Please log in, above."})}),Object(c.jsx)(x.a,{to:"/"})]})})]})})};u.a.render(Object(c.jsx)(y,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.31902957.chunk.js.map